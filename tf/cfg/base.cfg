// ------------------------------- //
// BASE SERVER CFG FOR SPACESHIPTF //
// ------------------------------- //

// misc settings
// uncomment next 3 lines to enable verbose logging

//log_verbose_enable "1"                                                            // enables verbose server log
//log_verbose_interval "60"                                                         // sets verbose logging to happen every 60 seconds
//log on                                                                            // temp enable logging

//log off                                                                             // disable logging
//sv_logecho "0"                                                                      // ^
sv_downloadurl ""                                                                   // fast dl url
decalfrequency "15"                                                                 // only allow decals to be sprayed every 15 seconds
net_maxfilesize "64"                                                                // set max spray size to 64 MB (max)
// ***REPLACED SRC PASSWORD***
host_framerate "0"                                                                  // unlocks server framerate
//motdfile "quickplay/motd.txt"                                                       // html motd
//motdfile_text "quickplay/motd.txt"                                                  // text motd
sm_cvar nb_update_frequency 0.015                                                   // make tf_bots update once per tick - no effect on performance moonly i already measured :megabastard:

// net settings
sv_mincmdrate "66"                                                                  // sets the min value for cl_cmdrate to 66 ticks/sec
sv_maxcmdrate "66"                                                                  // sets the max value for cl_cmdrate to 66 ticks/sec
sv_minrate "80000"                                                                  // sets min acceptable client rate to 80000 packets/sec, tf2's default rate
sv_maxrate "0"                                                                      // sets max acceptable client rate to "unlimited", tho anything higher than 1048576 is ignored as it is tf2's "max" rate.
sv_minupdaterate "66"                                                               // sets min rate of requestable packets from server to client to 66 per sec
sv_maxupdaterate "66"                                                               // sets max rate of requestable packets from server to client to 66 per sec
sv_client_min_interp_ratio "1"                                                      // clamps min client interp settings
sv_client_max_interp_ratio "2"                                                      // clamps max client interp settings
sv_client_cmdrate_difference "0"                                                    // clamps client cmdrate
sv_client_predict "1"                                                               // forces cl_predict 1, essentially
sv_alltalk "1"                                                                      // disable alltalk on round start

// tf_ settings
tf_allow_player_use "0"                                                             // disallows use command
tf_clamp_airducks "1"                                                               // clamps amount of times player is able to duck in the air
tf_allow_taunt_switch "0"                                                           // disallows switching weapons during taunting
tf_avoidteammates_pushaway "0"                                                      // prevents "pushing" of your own teammates
tf_damage_disablespread "1"                                                         // disables damage spread
tf_overtime_nag "0"                                                                 // turns off the announcer freaking about about overtime
tf_powerup_mode "0"                                                                 // turns off mannpower mode if it's on for some reason
tf_use_fixed_weaponspreads "1"                                                      // forces fixed weapon spread. Essential
tf_weapon_criticals "0"                                                             // forces random crits off. Essential
tf_weapon_criticals_melee "0"                                                       // forces random melee crits off. Essential
tf_preround_push_from_damage_enable "1"                                             // turns on the ability to rollout in spawn
tf_spawn_glows_duration "0"                                                         // turns off spawn glow
tf_spec_xray "0"                                                                    // disallows xray
tf_arena_first_blood  "0"                                                           // turns off first blood nonsense
tf_flag_caps_per_round "3"                                                          // sets max flag caps per round to 3

// mp_ settings
mp_disable_respawn_times "0"                                                        // enables respawn times
mp_friendlyfire "0"                                                                 // disables friendly fire
mp_highlander "0"                                                                   // disables highlander mode
mp_show_voice_icons "0"                                                             // hides voice icons as well
mp_decals "300"                                                                     // sets decal count to 300 (up from 200)
mp_fadetoblack "0"                                                                  // doesn't fade player's screen to black on death
mp_enableroundwaittime "1"                                                          // pauses server timer after winning a round
mp_fraglimit "0"                                                                    // disables max/any frag limit
mp_forcecamera "1"                                                                  // prevents third person/map view cameras when dead
mp_footsteps "1"                                                                    // turns on footstep noises
mp_match_end_at_timelimit "0"                                                       // prevent match from instantly ending at the end of the server timelimit
mp_respawnwavetime "10"                                                             // sets respawn wave to happen every 10 seconds
mp_stalemate_enable "0"                                                             // disables stalemate mode
mp_stalemate_timelimit "0"                                                          // ^
mp_mapcycle_empty_timeout_seconds "600"                                             // cycles map every 10 min if server empty to prevent memory leaks caused by sitting on maps idle for too long
mp_winlimit "0"                                                                     // sets winlimit to unlimited
mp_timelimit "30"                                                                   // sets timelimit to 30 minutes
sm_cvar mp_waitingforplayers_time "0"                                               // hidden cvar that adjusts the "Waiting for Players" round time
mp_maxrounds "0"                                                                    // Unlimited max rounds.
mp_forceautoteam "0"                                                                // don't set autoteam on player join

// sv_ settings
sv_cheats "0"                                                                       // turns cheats off
sv_gravity "800"                                                                    // Sets gravity to default (800)
sv_pure "1"                                                                         // sets sv_pure to 1, uses custom pure_server_whitelist.txt
sv_turbophysics "1"                                                                 // prevents people from moving physics objects, results in less CPU usage on the server
sv_restrict_aspect_ratio_fov "1"                                                    // don't restrict fov for ultrawide users https://www.strawpoll.me/20794172/r
sv_allow_color_correction "1"                                                       // allow color correction
sv_cacheencodedents "1"                                                             // according to developer.valvesoftware.com , "does an optimization to prevent extra SendTable_Encode calls."
sv_forcepreload "1"                                                                 // forces server to preload assets
sv_allow_voice_from_file "0"                                                        // disallows clients from using voice_inputfromfile
sv_namechange_cooldown_seconds "60"                                                 // locks clients to 1 name change per minute
sv_tags "spaceship"                                                                 // sets tags for steam master server list
sv_allowupload "1"                                                                  // allow uploading of client custom content (sprays)
sv_allowdownload "0"                                                                // disallow downloading of server custom content (NOT RELATED TO FASTDL STOP MESSING WITH THIS)

// voting settings
sv_allow_votes "0"                                                                  // allow votes

sm_advertisements_enabled "1"                                                       // enable advertisements.smx
sm_advertisements_interval "250"                                                    // advertise every 250 seconds
sm_vote_progress_hintbox "1"                                                        // show map vote progress in a hintbox

// tf2 comp fixes
sm_cf fixes

// fix pipe sizes to be consistent
sm_pipe_hitbox_fix__enable 1
sm_pipe_hitbox_fix__radius 2

exec stv                                                                            // exec stv cfg

// exp settings
sm_cvar sv_clockcorrection_msecs "30"                                               // attempts to better synchronize client's ticks closer to server's ticks
sm_cvar sv_playerperfhistorycount "20"                                              // ^
// more info: https://github.com/mastercomfig/team-comtress-2/blob/ee45bdcdf798c437006eb773cff9aca6c9b12e80/game/server/player.cpp#L3078-L3080
